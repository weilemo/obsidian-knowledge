---
tags:
  - agent
---
这是一个非常大胆且令人兴奋的想法，把 **Claude Code (cc)** 当作你的“数字图书管理员”。

但首先，我必须发出一个**红色警报**：

🚨 **在执行任何操作之前，请务必备份你的 Vault！** 🚨
**Claude Code 本质上是一个在终端执行命令的 Agent。** 当你让它“整理”时，它会执行 `mv` (移动), `rm` (删除), `sed` (修改内容) 等命令。如果它理解错了，你的笔记可能会瞬间乱套。
*   **备份方法**：把整个 Vault 文件夹复制一份，或者用 Git 提交一次。

---

确认备份无误后，以下是利用 **Claude Code (`cc`)** 整理 Obsidian Vault 的三种最佳姿势，从“最安全”到“最激进”。

### 场景一：清理“Inbox”文件夹 (分类归档)
**适合情况**：你的 Vault 根目录下堆满了一堆 `未命名.md`、`Draft.md` 或者 AI 自动抓取的乱七八糟的日报。

**操作步骤**：
1.  在终端 `cd` 进入你的 Vault 目录。
2.  输入 `cc` 启动。
3.  **输入 Prompt**：

> "请查看当前目录下的 `00-Inbox` 文件夹（或者你存放乱文件的目录）。
> 1. 读取里面的前 10 个 Markdown 文件，分析它们的内容。
> 2. 根据内容，建议将它们归类到以下几个我现有的文件夹中：`02-Papers`, `03-Projects`, `04-Journal`。
> 3. **不要直接移动**，先列出一个计划清单告诉我你会怎么移。
> 4. 经过我确认后，再执行移动操作。"

**为什么这样做？**
*   Claude Code 会先读文件 -> 思考 -> 列出计划。
*   你可以检查它是否把“情书”错分到了“科研论文”里。
*   确认无误后，它会执行 `mv` 命令。

---

### 场景二：自动打标签 (添加 YAML Frontmatter)
**适合情况**：你有很多论文笔记，但没有打标签（Tags），导致检索困难。这是**最推荐**的用法，因为**只改内容，不改路径，不会破坏双向链接**。

**操作步骤**：
1.  `cd` 到存放论文笔记的文件夹，比如 `02-Papers`。
2.  **输入 Prompt**：

> "请遍历当前目录下所有的 `.md` 文件。
> 我希望你帮我给每篇笔记添加 YAML Frontmatter（如果没有的话）。
>
> 规则如下：
> 1. 读取笔记内容。
> 2. 提取 3-5 个关键词作为 tags，例如 `tags: [LLM, RAG, Survey]`。
> 3. 提取一句话总结作为 `summary` 字段。
> 4. **只修改文件头部的 YAML 区域，绝对不要修改正文内容。**
> 5. 请先拿一个文件做演示，我满意后你再批量处理剩余的。"

**效果**：
你的笔记头部会自动变成这样，Obsidian 的 Dataview 插件可以直接读取：
```yaml
---
tags: [DeepSeek, Inference, Optimization]
summary: 这篇论文提出了一种新的 KV Cache 压缩方法。
date: 2026-01-24
---
```

---

### 场景三：生成 MOC (内容地图)
**适合情况**：你有几十篇关于 "RAG" 的笔记，散落在各地，你想生成一个汇总页面。

**操作步骤**：
1.  **输入 Prompt**：

> "请搜索整个 Vault 中所有包含 'RAG' 或 'Retrieval' 关键词的笔记。
> 帮我创建一个新文件叫 `MOC - RAG Research.md`。
> 在这个文件里，把找到的笔记整理成一个 Markdown 列表链接。
> 请尝试根据笔记内容，把它们按子主题（例如：检索算法、生成模型、应用案例）进行分组。"

**效果**：
它不会动你的原文件，而是生成一个像“目录”一样的新文件，帮你把知识串起来。

---

### ⚠️ 一个致命的注意事项：双向链接断裂

Obsidian 最强大的功能是双向链接 `[[Link]]`。
*   **在 Obsidian 软件内**拖动文件：软件会自动更新所有引用了这个文件的链接。
*   **在终端用 `cc` 移动文件**：**链接不会自动更新！**

**后果**：
如果你有一篇笔记 A 引用了 `[[笔记B]]`，然后你让 Claude Code 把 `笔记B.md` 移到了 `子文件夹/笔记B.md`。
*   如果你的 Obsidian 设置是 "Use shortest path"（最短路径），可能还能连上。
*   但大部分情况下，链接可能会变灰（失效）。

**解决方案**：
如果你极其依赖双链，**不要让 Claude Code 移动文件（Move）和重命名文件（Rename）**。
**只让它做：**
1.  **修改内容**（加 Tag、改错别字、翻译）。
2.  **创建新文件**（生成日报、生成 MOC）。
3.  **删除垃圾文件**。

### 总结：保姆级指令

如果你现在就想试一下，**最安全**的起手式是**“整理 Inbox 并打标签”**：

```text
cd 你的Vault路径
cc "读取 Inbox 文件夹里的所有文件。请根据内容为每个文件添加 YAML tags。不要移动文件，只修改内容。每处理完一个文件，请输出由于什么内容打上了什么标签。"
```